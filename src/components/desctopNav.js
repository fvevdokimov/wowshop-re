import {Link} from "gatsby";
import React, {useCallback, useState} from "react";

import "./nav.scss";
import Cart from "./cart";

export const LinkMenu = ({children}) => {
    const [isOpen, setIsOpen] = useState(false)
    const toggle = useCallback(() => setIsOpen(!isOpen), [isOpen, setIsOpen])
    
    return <>
        <div className={`menuLinks__open-button ${isOpen ? 'open' : ''}`} onClick={toggle}><svg width="21" height="15" viewBox="0 0 21 15" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M1.38184 7.85352H19.3818" stroke="#87338B" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            <path d="M1.38184 1.85352H19.3818" stroke="#87338B" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
            <path d="M1.38184 13.8535H19.3818" stroke="#87338B" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
        </svg>
            меню</div>
        <div className={`menuLinks ${isOpen ? 'open' : ''}`}>
            {children}
        </div>
        </>
}




//const Menu = () => ()
const DesctopNav = ({type, typeName, cartItems, items, removeFromCart, changeCartItem, bannerFixed, bannerMobile, season, seasonUrl, changeMaleUrl, cartIsHidden, cartCounter, isCartOpen, handleCartClick, isMenuOpen, handleMenuClick}) => (
    
    <div className={"nav desctop-nav " + season + (cartIsHidden ? " cartIsHidden" : "") + (isCartOpen ? " cartIsOpen" : "") + (isMenuOpen ? " menuIsOpen" : "")}>
        <div className="page-nav">
            <Link to="/" className="logo">
                <img src="/logo.png" alt=""/>
            </Link>
            <div className="page">
                <div className="top">
                    <div className="top_header">
                        <h3 className={type}>{type==='boys' ? 'Мальчикам' : 'Девочкам'}</h3>
                    </div>
    
                    <div className="cats">
                        <ul>
                            <li><Link to={seasonUrl + '1'}>Одежда</Link></li> 
                            <li><Link to={seasonUrl + '2'}>Обувь</Link></li>
                            <li><Link to={seasonUrl + '3'}>Аксессуары</Link></li>
                        </ul>
                    </div>
                </div>
                <div className="season-nav">
                    <div className="winter">
                        <svg width="40" height="41" viewBox="0 0 78 79" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g opacity="0.6">
                            <path d="M31.0391 45.2301L24.7342 41.5213V28.5405L35.9842 35.0927V42.3867C35.9842 43.1284 36.4787 43.623 37.2205 43.623C37.9622 43.623 38.4567 43.1284 38.4567 42.3867V36.4526L44.1436 39.7905C44.3908 39.9142 44.5144 39.9142 44.7617 39.9142C45.1326 39.9142 45.6271 39.6669 45.8743 39.296C46.2452 38.6779 45.998 37.9361 45.3798 37.5653L39.693 34.351L44.7617 31.3839C45.3798 31.013 45.5035 30.2713 45.2562 29.6532C44.8853 29.035 44.1436 28.9114 43.5254 29.1586L37.2205 32.8674L25.9705 26.3152L37.2205 19.763L43.5254 23.4718C43.7727 23.5955 43.8963 23.5955 44.1436 23.5955C44.5144 23.5955 45.0089 23.3482 45.2562 22.9773C45.6271 22.3592 45.3798 21.6174 44.7617 21.2466L39.693 18.2795L45.3798 14.9416C45.998 14.5707 46.1216 13.829 45.8743 13.2108C45.5035 12.5927 44.7617 12.4691 44.1436 12.7163L38.4567 16.0542V10.1202C38.4567 9.3784 37.9622 8.8839 37.2205 8.8839C36.4787 8.8839 35.9842 9.3784 35.9842 10.1202V17.4141L24.7342 23.9663V11.2328L31.0391 7.52401C31.6573 7.15313 31.7809 6.41137 31.5337 5.79323C31.1628 5.1751 30.421 5.05148 29.8029 5.29873L24.7342 8.38939V1.71356C24.7342 0.971801 24.2397 0.477295 23.4979 0.477295C22.7562 0.477295 22.2617 0.971801 22.2617 1.71356V8.38939L17.193 5.42236C16.5748 5.05148 15.8331 5.29873 15.4622 5.91686C15.0913 6.53499 15.3386 7.27675 15.9567 7.64763L22.2617 11.3564V24.4608L11.0116 17.9086V10.6147C11.0116 9.87291 10.5171 9.3784 9.77538 9.3784C9.03362 9.3784 8.53911 9.87291 8.53911 10.6147V16.5487L2.85229 13.2108C2.23416 12.8399 1.4924 13.0872 1.12152 13.7053C0.750643 14.3235 0.997895 15.0652 1.61603 15.4361L7.30285 18.774L2.23416 21.7411C1.61603 22.1119 1.4924 22.8537 1.73965 23.4718C1.98691 23.8427 2.35779 24.09 2.85229 24.09C3.09955 24.09 3.22317 24.09 3.47043 23.9663L9.77538 20.2575L21.0254 26.8097L9.77538 33.362L3.47043 29.6532C2.85229 29.2823 2.11053 29.5295 1.73965 30.1477C1.36878 30.7658 1.61603 31.5076 2.23416 31.8784L7.30285 34.8455L1.61603 38.1834C0.997895 38.5543 0.874269 39.296 1.12152 39.9142C1.36878 40.285 1.73965 40.5323 2.23416 40.5323C2.48141 40.5323 2.60504 40.5323 2.85229 40.4087L8.53911 37.0707V43.0048C8.53911 43.7466 9.03362 44.2411 9.77538 44.2411C10.5171 44.2411 11.0116 43.7466 11.0116 43.0048V35.7109L22.2617 29.1586V42.2631L15.9567 45.9719C15.3386 46.3427 15.2149 47.0845 15.4622 47.7026C15.7095 48.0735 16.0803 48.3208 16.5748 48.3208C16.8221 48.3208 16.9457 48.3208 17.193 48.1971L22.2617 45.2301V51.9059C22.2617 52.6477 22.7562 53.1422 23.4979 53.1422C24.2397 53.1422 24.7342 52.6477 24.7342 51.9059V45.2301L29.8029 48.1971C30.0501 48.3208 30.1738 48.3208 30.421 48.3208C30.7919 48.3208 31.2864 48.0735 31.5337 47.7026C31.9045 46.3427 31.6573 45.601 31.0391 45.2301Z" fill="#56CCF2"/>
                            <path d="M55.3937 70.5734L48.0997 66.3701L55.3937 62.1668C56.0118 61.7959 56.1354 61.0542 55.8882 60.436C55.5173 59.8179 54.7755 59.6943 54.1574 59.9415L46.8634 64.1448V55.7382C46.8634 54.9965 46.3689 54.502 45.6272 54.502C44.8854 54.502 44.3909 54.9965 44.3909 55.7382V64.1448L37.0969 59.9415C36.4788 59.5706 35.737 59.8179 35.3662 60.436C34.9953 61.0542 35.2425 61.7959 35.8607 62.1668L43.1546 66.3701L35.8607 70.5734C35.2425 70.9443 35.1189 71.686 35.3662 72.3042C35.6134 72.6751 35.9843 72.9223 36.4788 72.9223C36.726 72.9223 36.8497 72.9223 37.0969 72.7987L44.3909 68.5954V77.002C44.3909 77.7437 44.8854 78.2382 45.6272 78.2382C46.3689 78.2382 46.8634 77.7437 46.8634 77.002V68.5954L54.1574 72.7987C54.4046 72.9223 54.5283 72.9223 54.7755 72.9223C55.1464 72.9223 55.6409 72.6751 55.8882 72.3042C56.259 71.686 56.0118 70.9443 55.3937 70.5734Z" fill="#56CCF2"/>
                            <path d="M76.4098 42.7575L69.1158 38.5542L76.4098 34.3509C77.0279 33.98 77.1515 33.2382 76.9043 32.6201C76.5334 32.002 75.7916 31.8784 75.1735 32.1256L67.8795 36.3289V27.9223C67.8795 27.1805 67.385 26.686 66.6433 26.686C65.9015 26.686 65.407 27.1805 65.407 27.9223V36.3289L58.113 32.1256C57.4949 31.7547 56.7531 32.002 56.3823 32.6201C56.0114 33.2382 56.2586 33.98 56.8768 34.3509L64.1707 38.5542L56.8768 42.7575C56.2586 43.1284 56.135 43.8701 56.3823 44.4883C56.6295 44.8591 57.0004 45.1064 57.4949 45.1064C57.7422 45.1064 57.8658 45.1064 58.113 44.9828L65.407 40.7795V49.1861C65.407 49.9278 65.9015 50.4223 66.6433 50.4223C67.385 50.4223 67.8795 49.9278 67.8795 49.1861V40.7795L75.1735 44.9828C75.4208 45.1064 75.5444 45.1064 75.7916 45.1064C76.1625 45.1064 76.657 44.8591 76.9043 44.4883C77.1515 43.8701 77.0279 43.1284 76.4098 42.7575Z" fill="#56CCF2"/>
                            </g>
                        </svg>
                        <Link to={type + '/winter'}>Зимняя</Link>
                    </div>
                    <span>/</span>
                    <div className="demi">
                        <svg width="32" height="36" viewBox="0 0 66 72" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12.4124 36.6274C12.8766 37.0795 13.6236 37.0708 14.0753 36.6036C15.9346 34.6857 18.363 33.4731 20.9341 33.0897C23.4439 32.715 26.0972 33.1335 28.4956 34.4559L28.4985 34.4555C31.4049 36.0569 33.3853 38.6852 34.2376 41.6362C35.0903 44.5902 34.8178 47.8664 33.2164 50.7728L33.2168 50.7757C32.9658 51.229 32.696 51.6552 32.4071 52.0513C32.101 52.4738 31.7836 52.8591 31.4525 53.2106C31.0074 53.6828 31.0303 54.4247 31.5025 54.8697C31.9747 55.3147 32.7166 55.2918 33.1616 54.8196C33.5778 54.3754 33.959 53.9154 34.3076 53.4362C34.6437 52.9737 34.9535 52.4941 35.2312 51.9982L35.2337 51.9949L35.2787 51.9139C37.1953 48.4407 37.5243 44.5185 36.5023 40.9867C35.4904 37.4832 33.1499 34.361 29.7239 32.4407L29.7206 32.4382L29.6396 32.3931C26.775 30.8126 23.6034 30.3134 20.5946 30.7626C17.5157 31.2219 14.6146 32.6721 12.3886 34.9645C11.9365 35.4288 11.9452 36.1757 12.4124 36.6274Z" fill="#F2C94C"/>
                            <path d="M13.1119 29.1138C13.6688 28.7776 13.8487 28.0573 13.5154 27.5L3.65701 11.1714C3.32083 10.6145 2.60051 10.4346 2.04318 10.7679C1.48627 11.1041 1.30635 11.8244 1.63962 12.3817L11.498 28.7103C11.8342 29.2672 12.5545 29.4471 13.1119 29.1138Z" fill="#F2C94C"/>
                            <path d="M22.3338 26.4475C22.9848 26.4346 23.5007 25.8957 23.4878 25.2447L23.1151 6.17621C23.1022 5.52525 22.5633 5.00933 21.9123 5.02217C21.2614 5.03501 20.7454 5.57398 20.7583 6.22493L21.131 25.2934C21.1439 25.9444 21.6828 26.4603 22.3338 26.4475Z" fill="#F2C94C"/>
                            <path d="M31.6446 28.7463C32.2143 29.0611 32.9298 28.8542 33.2446 28.2844L42.4576 11.5827C42.7724 11.013 42.5655 10.2974 41.9957 9.98264C41.426 9.66787 40.7105 9.87477 40.3957 10.4445L31.1827 27.1463C30.8679 27.716 31.0748 28.4316 31.6446 28.7463Z" fill="#F2C94C"/>
                            <path d="M38.5585 35.389C38.8947 35.946 39.615 36.1259 40.1723 35.7926L56.5008 25.9342C57.0578 25.598 57.2377 24.8777 56.9044 24.3204C56.5682 23.7635 55.8479 23.5835 55.2906 23.9168L38.962 33.7752C38.4051 34.1114 38.2252 34.8317 38.5585 35.389Z" fill="#F2C94C"/>
                            <path d="M41.2248 44.611C41.2377 45.262 41.7766 45.7779 42.4276 45.765L61.4961 45.3923C62.147 45.3794 62.663 44.8405 62.6501 44.1895C62.6373 43.5385 62.0983 43.0226 61.4474 43.0355L42.3789 43.4082C41.7279 43.4211 41.212 43.96 41.2248 44.611Z" fill="#F2C94C"/>
                            <path d="M38.926 53.9217C38.6112 54.4915 38.8181 55.207 39.3878 55.5218L56.0896 64.7348C56.6593 65.0496 57.3749 64.8427 57.6897 64.2729C58.0044 63.7032 57.7975 62.9876 57.2278 62.6729L40.526 53.4599C39.9563 53.1451 39.2407 53.352 38.926 53.9217Z" fill="#F2C94C"/>
                        </svg>
                        <Link to={type + '/fall-spring'}>Демисезонная</Link>
                    </div>
                </div>
                </div>
            </div>

        <div className="site-nav">
            <div className={type==='boys' ? 'girls' : 'boys'}>
            <Link to={changeMaleUrl}>{type==='boys' ? 'Девочкам' : 'Мальчикам'}</Link>
            </div>
            <div className="secondary">
                <div className="menu">
                    <div onClick={handleMenuClick}>
                        <svg width="16" height="13" viewBox="0 0 16 13" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1.00293 6.57715H14.9083" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M1.00293 1.94214H14.9083" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M1.00293 11.2124H14.9083" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span>меню</span>
                    </div>
                </div>
                
                <ul>
                    <li><Link to="/info-payment">Как оплатить?</Link></li>
                    <li><Link to="/info-delivery">О доставке</Link></li>
                    <li><Link to="/info-contacts">Контакты</Link></li>
                </ul>
            </div>
        </div>

        <div className="cart">
            <div className="btn icon" onClick={handleCartClick}> 
                <div className="icon-cart" data-counter={cartCounter}>
                    <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1.70312 0.733398C1.15084 0.733398 0.703125 1.18111 0.703125 1.7334C0.703125 2.28568 1.15084 2.7334 1.70312 2.7334H4.00669L4.61975 5.7964C4.62388 5.82224 4.62899 5.84775 4.63506 5.87288L5.93812 12.3833L5.93821 12.3838C6.05542 12.9733 6.37617 13.5028 6.84435 13.8797C7.30986 14.2544 7.89165 14.4545 8.48896 14.4456H16.0617C16.659 14.4545 17.2408 14.2544 17.7063 13.8797C18.1746 13.5027 18.4954 12.973 18.6126 12.3833L18.6126 12.3833L18.614 12.3758L19.8633 5.82479C19.9191 5.53204 19.8415 5.22965 19.6515 5.00002C19.4615 4.77039 19.179 4.63747 18.881 4.63747H6.42746L5.80693 1.53714C5.71339 1.06978 5.30301 0.733398 4.82638 0.733398H1.70312ZM7.89951 11.9922L6.82776 6.63747H17.6723L16.6509 11.9937L16.6503 11.9964C16.6242 12.1246 16.5541 12.2397 16.4522 12.3217C16.3495 12.4044 16.221 12.4483 16.0893 12.4458L16.0701 12.4456H8.48059L8.46143 12.4458C8.32964 12.4483 8.20116 12.4044 8.09849 12.3217C7.99581 12.2391 7.92548 12.123 7.8998 11.9937L7.89951 11.9922ZM7.94963 17.5689C8.07069 17.5689 8.16882 17.4707 8.16882 17.3497C8.16882 17.2286 8.07069 17.1305 7.94963 17.1305C7.82858 17.1305 7.73045 17.2286 7.73045 17.3497C7.73045 17.4707 7.82858 17.5689 7.94963 17.5689ZM6.16882 17.3497C6.16882 16.3661 6.96612 15.5689 7.94963 15.5689C8.93315 15.5689 9.73045 16.3661 9.73045 17.3497C9.73045 18.3332 8.93315 19.1305 7.94963 19.1305C6.96612 19.1305 6.16882 18.3332 6.16882 17.3497ZM16.5386 17.5689C16.6596 17.5689 16.7578 17.4707 16.7578 17.3497C16.7578 17.2286 16.6596 17.1305 16.5386 17.1305C16.4175 17.1305 16.3194 17.2286 16.3194 17.3497C16.3194 17.4707 16.4175 17.5689 16.5386 17.5689ZM14.7578 17.3497C14.7578 16.3661 15.5551 15.5689 16.5386 15.5689C17.5221 15.5689 18.3194 16.3661 18.3194 17.3497C18.3194 18.3332 17.5221 19.1305 16.5386 19.1305C15.5551 19.1305 14.7578 18.3332 14.7578 17.3497Z"/>
                    </svg>
                </div>
                <div className="icon-close">
                    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1.20403 13.3265C0.813502 13.717 0.813502 14.3502 1.20403 14.7407C1.59455 15.1312 2.22772 15.1312 2.61824 14.7407L8.27515 9.08379L13.9321 14.7407C14.3226 15.1312 14.9557 15.1312 15.3463 14.7407C15.7368 14.3502 15.7368 13.717 15.3463 13.3265L9.68936 7.66957L15.3462 2.01277C15.7367 1.62225 15.7367 0.989081 15.3462 0.598557C14.9556 0.208033 14.3225 0.208033 13.9319 0.598557L8.27515 6.25536L2.61835 0.598557C2.22782 0.208033 1.59466 0.208033 1.20413 0.598557C0.813607 0.989081 0.813608 1.62225 1.20413 2.01277L6.86093 7.66957L1.20403 13.3265Z"/>
                    </svg>
                </div>
            </div>
            <Cart
                cartItems={cartItems}
                items={items}
                removeFromCart={removeFromCart}
                changeCartItem={changeCartItem}
                bannerFixed={bannerFixed}
                bannerMobile={bannerMobile}/>
        </div>

    </div>
)

export default DesctopNav;